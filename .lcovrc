# LCOV Configuration for AIO Server
# https://linux.die.net/man/5/lcovrc

# Exclude lines matching these patterns from coverage
# Regex patterns that mark lines as "excluded" from coverage requirements
lcov_excl_line = LCOV_EXCL_LINE|Logger::Instance\(\)|AIO::Emulator::Common::Logger|LOG_|assert\(|ASSERT\(|throw |std::cerr|std::cout

# Branch coverage: exclude common patterns that inflate uncovered branches
lcov_excl_br_line = LCOV_EXCL_BR_LINE|Logger::Instance\(\)|AIO::Emulator::Common::Logger|LOG_|assert\(|ASSERT\(|throw |std::cerr|std::cout

# Start/stop exclusion block markers
lcov_excl_start = LCOV_EXCL_START
lcov_excl_stop = LCOV_EXCL_STOP

# Exclusion markers for branch coverage blocks
lcov_excl_br_start = LCOV_EXCL_BR_START
lcov_excl_br_stop = LCOV_EXCL_BR_STOP

# Function coverage: patterns that mark entire functions as excluded
lcov_function_coverage = 1

# Exclude branches inside exception handling, logging, and assertions
# (These are defensive code paths, not primary logic)
genhtml_hi_limit = 90
genhtml_med_limit = 75
genhtml_line_field_width = 12
genhtml_overview_width = 80

# Don't count branches in switch statement case labels as separate branches
# Each case is essentially a single branch decision
# Note: This requires lcov 1.15+
# branch_coverage = 0 means line coverage only (simpler, often more useful)
# branch_coverage = 1 means include branch coverage
branch_coverage = 1

# Ignore branch coverage for trivial conditions (e.g., single-line returns)
# lcov 2.0+ has additional options for excluding branches
